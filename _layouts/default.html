<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-2G376VMXHB"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-2G376VMXHB');
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="color-scheme" content="light dark">
    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    <meta name="description" content="{% if page.description %}{{ page.description }}{% else %}{{ site.description }}{% endif %}">
    <script>
      // Prevent theme "flash" by applying the saved/system theme before first paint.
      (function() {
        try {
          var theme = localStorage.getItem('theme') || 'auto';
          var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
          if (theme === 'dark' || (theme === 'auto' && prefersDark)) {
            document.documentElement.setAttribute('data-theme', 'dark');
          } else {
            document.documentElement.removeAttribute('data-theme');
          }
        } catch (e) {}
      })();
    </script>
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="{{ '/assets/images/favicon.png' | relative_url }}">
    {% seo %}
  </head>
  <body data-page="{{ page.title | downcase | default: 'home' }}" class="preload">
    <header role="banner">
      <h1><a href="{{ '/' | relative_url }}">{{ site.title }}</a></h1>
      <button class="nav-toggle" aria-expanded="false" aria-controls="main-nav" aria-label="Toggle navigation">
        <span class="hamburger" aria-hidden="true"></span>
      </button>
      <nav id="main-nav" role="navigation" aria-label="Main navigation">
        <a href="{{ '/' | relative_url }}" {% if page.url == "/" %}aria-current="page"{% endif %}>Home</a>
        <a href="{{ '/about' | relative_url }}" {% if page.url == "/about/" %}aria-current="page"{% endif %}>About</a>
        <a href="{{ '/projects' | relative_url }}" {% if page.url == "/projects/" %}aria-current="page"{% endif %}>Projects</a>
        <a href="{{ '/cv' | relative_url }}" {% if page.url == "/cv/" %}aria-current="page"{% endif %}>CV</a>
        <a href="{{ '/contact' | relative_url }}" {% if page.url == "/contact/" %}aria-current="page"{% endif %}>Contact</a>
        <span class="theme-icons" role="group" aria-label="Theme selection">
          <button class="theme-icon" id="light-theme" aria-label="Switch to light theme" title="Light theme">
            <i class="fas fa-sun" aria-hidden="true"></i>
          </button>
          <button class="theme-icon" id="dark-theme" aria-label="Switch to dark theme" title="Dark theme">
            <i class="fas fa-moon" aria-hidden="true"></i>
          </button>
          <button class="theme-icon" id="auto-theme" aria-label="Use system theme" title="System theme">
            <i class="fas fa-desktop" aria-hidden="true"></i>
          </button>
        </span>
      </nav>
    </header>
    
    <canvas id="neural-canvas" class="neural-canvas"></canvas>
    
    <main id="main-content">
      <div class="main-container">
        {{ content }}
      </div>
    </main>
    
    <button class="scroll-to-top" id="scrollToTop" aria-label="Scroll to top">
      <i class="fas fa-chevron-up"></i>
    </button>
    
    <footer role="contentinfo">
      <div class="social-links">
        <a href="https://github.com/jpgsantos" target="_blank" rel="noopener noreferrer" aria-label="GitHub profile">
          <i class="fab fa-github" aria-hidden="true"></i>
        </a>
        <a href="https://linkedin.com/in/joaosantos1992" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn profile">
          <i class="fab fa-linkedin" aria-hidden="true"></i>
        </a>
        <a href="mailto:jpgs.12390@gmail.com" aria-label="Send email">
          <i class="fas fa-envelope" aria-hidden="true"></i>
        </a>
        <a href="tel:+351963264450" aria-label="Call phone">
          <i class="fas fa-phone" aria-hidden="true"></i>
        </a>
      </div>
      <p>&copy; {{ site.time | date: '%Y' }} João Pedro Gomes dos Santos. All rights reserved.</p>
      <p class="availability">
        <span class="available-indicator" aria-hidden="true">●</span>
        <span class="visually-hidden">Status:</span> Available for new opportunities in Copenhagen, Amsterdam or Remote
      </p>
    </footer>
    
    <script>
      // Remove preload class to enable transitions after page load
      window.addEventListener('load', function() {
        document.body.classList.remove('preload');
      });
      // Fallback: remove after short delay if load event doesn't fire
      setTimeout(function() {
        document.body.classList.remove('preload');
      }, 100);
    </script>
    <script src="{{ '/assets/js/theme-switcher.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/animations.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/header-scroll.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/nav-toggle.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/scroll-reveal.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/scroll-to-top.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/neural-network.js' | relative_url }}"></script>
  </body>
</html>